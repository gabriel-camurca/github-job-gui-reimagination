{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nconst ACTIONS = {\n  MAKE_REQUEST: 'make-request',\n  GET_DATA: 'get-data',\n  ERROR: 'error'\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case ACTIONS.MAKE_REQUEST:\n      return {\n        loading: true,\n        jobs: []\n      };\n\n    case ACTIONS.GET_DATA:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        jobs: action.payload.jobs\n      });\n\n    case ACTIONS.ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: action.payload.error,\n        jobs: []\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default function getJobs(params, page) {\n  const {\n    0: state,\n    1: dispatch\n  } = useReducer(reducer, {\n    jobs: [],\n    loading: true\n  });\n  const BASE_URL = \"https://jobs.github.com/positions.json\";\n  useEffect(() => {\n    dispatch({\n      type: ACTIONS.MAKE_REQUEST\n    });\n    axios.get(BASE_URL, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }).then(res => {\n      dispatch({\n        type: ACTIONS.GET_DATA,\n        payload: {\n          jobs: res.data\n        }\n      });\n    }).catch(e => {\n      dispatch({\n        type: ACTIONS.ERROR,\n        payload: {\n          error: e\n        }\n      });\n    });\n  }, [params, page]);\n  return state;\n}","map":{"version":3,"sources":["C:/Users/gabri/Documents/GitHub/github-job-gui-reimagination/src/getJobs.tsx"],"names":["useReducer","useEffect","axios","ACTIONS","MAKE_REQUEST","GET_DATA","ERROR","reducer","state","action","type","loading","jobs","payload","error","getJobs","params","page","dispatch","BASE_URL","get","headers","then","res","data","catch","e"],"mappings":";;;;;;AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG;AACZC,EAAAA,YAAY,EAAE,cADF;AAEZC,EAAAA,QAAQ,EAAE,UAFE;AAGZC,EAAAA,KAAK,EAAE;AAHK,CAAhB;;AAMA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAA+B;AAC3B,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKP,OAAO,CAACC,YAAb;AACI,aAAO;AAAEO,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,IAAI,EAAE;AAAvB,OAAP;;AACJ,SAAKT,OAAO,CAACE,QAAb;AACI,6CAAYG,KAAZ;AAAmBG,QAAAA,OAAO,EAAE,KAA5B;AAAmCC,QAAAA,IAAI,EAAEH,MAAM,CAACI,OAAP,CAAeD;AAAxD;;AACJ,SAAKT,OAAO,CAACG,KAAb;AACI,6CAAYE,KAAZ;AAAmBG,QAAAA,OAAO,EAAE,KAA5B;AAAmCG,QAAAA,KAAK,EAAEL,MAAM,CAACI,OAAP,CAAeC,KAAzD;AAAgEF,QAAAA,IAAI,EAAE;AAAtE;;AACJ;AACI,aAAOJ,KAAP;AARR;AAUH;;AAED,eAAe,SAASO,OAAT,CAAiBC,MAAjB,EAAyBC,IAAzB,EAA+B;AAC1C,QAAM;AAAA,OAACT,KAAD;AAAA,OAAQU;AAAR,MAAoBlB,UAAU,CAACO,OAAD,EAAU;AAAEK,IAAAA,IAAI,EAAE,EAAR;AAAYD,IAAAA,OAAO,EAAE;AAArB,GAAV,CAApC;AAEA,QAAMQ,QAAQ,GAAG,wCAAjB;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACZiB,IAAAA,QAAQ,CAAC;AAACR,MAAAA,IAAI,EAAEP,OAAO,CAACC;AAAf,KAAD,CAAR;AACAF,IAAAA,KAAK,CAACkB,GAAN,CAAUD,QAAV,EAAoB;AAChBE,MAAAA,OAAO,EAAE;AAAC,uCAA+B;AAAhC;AADO,KAApB,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXL,MAAAA,QAAQ,CAAC;AAACR,QAAAA,IAAI,EAAEP,OAAO,CAACE,QAAf;AAAyBQ,QAAAA,OAAO,EAAE;AAAED,UAAAA,IAAI,EAAEW,GAAG,CAACC;AAAZ;AAAlC,OAAD,CAAR;AACH,KAJD,EAIGC,KAJH,CAISC,CAAC,IAAI;AACVR,MAAAA,QAAQ,CAAC;AAACR,QAAAA,IAAI,EAAEP,OAAO,CAACG,KAAf;AAAsBO,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAEY;AAAT;AAA/B,OAAD,CAAR;AACH,KAND;AAOH,GATQ,EASN,CAACV,MAAD,EAASC,IAAT,CATM,CAAT;AAWA,SAAOT,KAAP;AACH","sourcesContent":["import { useReducer, useEffect } from 'react'\r\n\r\nimport axios from 'axios'\r\n\r\nconst ACTIONS = {\r\n    MAKE_REQUEST: 'make-request',\r\n    GET_DATA: 'get-data',\r\n    ERROR: 'error'\r\n}\r\n\r\nfunction reducer(state, action){\r\n    switch (action.type){\r\n        case ACTIONS.MAKE_REQUEST:\r\n            return { loading: true, jobs: [] }\r\n        case ACTIONS.GET_DATA:\r\n            return { ...state, loading: false, jobs: action.payload.jobs }\r\n        case ACTIONS.ERROR:\r\n            return { ...state, loading: false, error: action.payload.error, jobs: []}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default function getJobs(params, page) {\r\n    const [state, dispatch] = useReducer(reducer, { jobs: [], loading: true})\r\n\r\n    const BASE_URL = \"https://jobs.github.com/positions.json\"\r\n\r\n    useEffect(() => {\r\n        dispatch({type: ACTIONS.MAKE_REQUEST})\r\n        axios.get(BASE_URL, {\r\n            headers: {\"Access-Control-Allow-Origin\": \"*\"}\r\n        }).then(res => {\r\n            dispatch({type: ACTIONS.GET_DATA, payload: { jobs: res.data } })\r\n        }).catch(e => {\r\n            dispatch({type: ACTIONS.ERROR, payload: { error: e } })\r\n        })\r\n    }, [params, page])\r\n\r\n    return state\r\n}"]},"metadata":{},"sourceType":"module"}